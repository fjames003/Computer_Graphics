<!-- Frankie James
     CMSI371 -->

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Combination Sprite</title>
  </head>
  <body>
    <canvas id="canvas" width="1024" height="1024">
      Sorry, but you need a web browser that supports the
      <code>canvas</code> element.
    </canvas>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="checkerboard.js"></script>
    <script src="checkerPiece.js"></script>
    <script type="text/javascript">
    (function () {
        var waver = 0.03;
        // var frameCount = 0;
        var drawScene = function () {
            // For a wave like effect, would need some tweening...
            // frameCount++;
            // waver = (frameCount % 15 === 0) ? (waver === 0.03) ? 0.04 : 0.03 : waver;
            var renderingContext = document.getElementById("canvas").getContext("2d");
            renderingContext.clearRect(0,0, 1024, 1024);

            renderingContext.save();
            renderingContext.scale(0.7, 0.7);
            SpriteLibrary.drawBoard({
                renderingContext: renderingContext, 
                border: 12,
                degradation: 25,
                waveFrequency: waver
            });

            renderingContext.save();
            renderingContext.translate(70, 70);
            renderingContext.scale(0.5, 0.5);
            renderingContext.rotate(Math.PI)
            SpriteLibrary.drawPiece({
                renderingContext: renderingContext,
                color: "black",
                limbAngle: 120,
                facialExpression: -1,
                elbowAngle: 135
            });
            renderingContext.restore();

            renderingContext.save();
            // This places checker piece in bottom right, will make a function to find location soon.
            renderingContext.translate(1000 - 265, 1000 - 250);
            renderingContext.scale(1, 1);
            SpriteLibrary.drawPiece({
                renderingContext: renderingContext,
                color: "red",
                limbAngle: 75,
                facialExpression: 0,
                elbowAngle: -135
            });
            renderingContext.restore();
            renderingContext.restore();

            window.requestAnimationFrame(drawScene);
        };
        window.requestAnimationFrame(drawScene);

    }());
     
    </script>
  </body>
</html>